<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Location</title>
</head>
<body>
    <h2>Fetching Your Location...</h2>
    <script>
        // Base Google Form URL (without parameters)
        const formBaseURL = "https://docs.google.com/forms/d/e/1FAIpQLSfyRqmCknjh-i6BeMM_3ytkhLS-FPec4GBTJs7A-5CIYfSpqg/viewform";

        // Entry field IDs for Latitude and Longitude
        const entryLat = "entry.1986451128";  // Replace with your form's Latitude entry ID
        const entryLng = "entry.1977838306";  // Replace with your form's Longitude entry ID

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(success, error);
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        function success(position) {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;

            // Construct the Google Form URL with pre-filled values
            const formURL = `${formBaseURL}?usp=pp_url&${entryLat}=${lat}&${entryLng}=${lng}`;

            // Redirect the user to the form with location data pre-filled
            window.location.href = formURL;
        }

        function error() {
            alert("Unable to retrieve location. Please enable location services.");
        }

        // Fetch location when the page loads
        getLocation();
    </script>
</body>
</html>